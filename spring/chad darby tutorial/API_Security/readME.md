# Spring Security:

- Implemented using servlet filters in the background.
- Two methods to secure the app
    - Declarative 
    - Programmatic

Starter spring security 

```aidl
      <dependency>
          <groupId>org.springframework.boot</groupId>
          <artifactId>spring-boot-starter-security</artifactId>
          <scope>test</scope>
      </dependency>
```

## About the project:

The project files are similar to CRUD API tutorial - please refer to that for CRUD API info. The scripts used for the Database tables is under resources under src/main.


## Why servlet filters?

- They preprocess and postprocess all the web requests and responses. Thereby enabling rerouting of requests based on security logic.

## Authorization and Authentication

- Authentication checks if the user can see the protected web resource.

- Authorization says if the user is cleared (meaning they have a role) that can actually use the web resource.

## Declarative:

- All security constraints is defined in the Config file.
    - All java config files are annotated with @Configuration.
- Provides a separation of concern between application code and security.

Two classes - UserDetailsManager, UserDetails

## Programmatic:

- It is where you define your own security handling. Spring provides security API that a dev can use to make custom security features.

## Spring Security Password Storage:

- A specific password storage format is used 

```aidl
{id}encodedPassword

where
id = is the type of encryption.
encodedPassword is the password that needs to be stored.

ex: {noop}test123

id = noop
encodedPassword = test123
```

### Types of id:
1) noop - No encryption, passwords are stored as plain text.
2) bcrypt - Popular one way hashing function to encrypt passwords.

## SecurityFilterChain

This restricts the requests based on your user's role.

requestMatchers

## Watch-Out!:

- Adding a security dependency will make spring boot to automatically secure all the application endpoints.
- The default username is `user` and default password is autogenerated in the console.
- Once you define your users separately, spring will not take in the default username and password that you might provide with the application.properities file.